var app=angular.module("sbAdminApp",["ngDialog","oc.lazyLoad","ui.router","ui.bootstrap","angularFileUpload","moment-picker","uiSlider","smart-table","me-lazyload","ngMessages","baseService","userService","leafService","ui.sortable","qmedia.editor"]).run(["$rootScope","$state","$location","$stateParams","$filter","ngDialog","baseService","userService",function(e,t,a,r,n,o,i,s){e.paginationNumber=[10,15,20,30,50,100],e.$on("$stateChangeSuccess",function(){window.scrollTo(0,0)}),e.$on("$stateChangeStart",function(a,r,n,i,l){o.close(),e.userData||"dashboard"==r.name.split(".")[0]&&(a.preventDefault(),s.getUserSrc(function(a){e.userData=a,e.current_perms=a.current_perms,e.root_programReslotions=a.root_programReslotions,e.rootGroup=a.root_organizations[0];for(var o=0;o<a.root_organizations.length;o++)""==a.root_organizations[o].pid&&(e.rootGroup=a.root_organizations[o]);t.go(r.name,n)}))}),e.formateDate=function(e){if(e)return e.toString().substring(0,4)+"-"+e.toString().substring(4,6)+"-"+e.toString().substring(6,8)},e.getRootDicName=function(t,a){var r=e.userData.root_dic[t];for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];if(o.val==a)return o.name}return""},e.getCityName=function(t){for(var a in e.userData.root_citys)if(e.userData.root_citys.hasOwnProperty(a)&&t==e.userData.root_citys[a].key)return e.userData.root_citys[a].value},e.perms=function(t){return(","+e.userData.current_perms+",").indexOf(","+t+",")>-1},e.dmbdOSSImageUrlResizeFilter=function(e,t){return e+(e.indexOf("?")>=0?"&":"?")+"x-oss-process=image/resize,m_lfit,"+t+",w_"+t},e.getRootDicNameStrs=function(t){for(var a=e.userData.root_dic[t],r="",n=0;n<a.length;n++){r+=","+a[n].name}return r&&(r=r.substr(1)),r},e.myKeyup=function(e,t,a){13==(window.event?e.keyCode:e.which)&&t(a)},e.goTostate=function(a,r,n){if(n){if(!e.perms(n))return;t.go(a,r)}else t.go(a,r)},e.isEmptyObject=function(e){return!!$.isEmptyObject(e)}}]).config(["$urlRouterProvider","$locationProvider",function(e,t){e.otherwise("/login")}]).config(["ngDialogProvider",function(e){e.setDefaults({closeByDocument:!0})}]).config(["momentPickerProvider",function(e){e.options({locale:"zh-cn"})}]).run(["fileUploaderOptions",function(e){e.autoUpload=!1}]);!function(e,t){t.module("sbAdminApp").config(["$stateProvider","$urlRouterProvider","$controllerProvider",function(e,t,a){e.state("login",{url:"/login",controller:"loginCtrl",templateUrl:"scripts/modules/login/template-d8b2766535.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["css/login/style-6b1a11c730.css","scripts/modules/login/index-09ab5bacfd.js"]})}]}}).state("password_find",{url:"/password_find",controller:"password_findCtrl",templateUrl:"scripts/modules/passwordFind/template-f4d59f6cb3.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["css/passwordFind/style-ed61f33c79.css","scripts/modules/passwordFind/index-89a0b73c2a.js"]})}]}}).state("help",{url:"/help",controller:["$state",function(e){"help"==e.current.name&&e.go("help.guide")}],templateUrl:"scripts/modules/help/main-e447faa9ff.html"}).state("help.guide",{url:"/guide",templateUrl:"scripts/modules/help/guide-901bfea711.html"}).state("help.statement",{url:"/statement",templateUrl:"scripts/modules/help/statement-84f401e6e5.html"}).state("help.agreement",{url:"/agreement",templateUrl:"scripts/modules/help/agreement-b3475275ff.html"}).state("help.partner",{url:"/partner",templateUrl:"scripts/modules/help/partner-dc130c740c.html"}).state("help.aboutus",{url:"/aboutus",templateUrl:"scripts/modules/help/aboutus-7d85794630.html"}).state("dashboard",{url:"/dashboard",templateUrl:"tpl/main.html"}).state("dashboard.home",{url:"/home",controller:"homeCtrl",templateUrl:"scripts/modules/home/template-e361001a6a.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["css/home/style-5420d94ee8.css","scripts/modules/home/index-8ed68afb32.js"]})}]}}).state("dashboard.terminal",{url:"/terminal",controller:"terminalCtrl",params:{status:null},templateUrl:"scripts/modules/terminal/template-7f61867bf1.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/terminal/index-953c3a07e9.js"]})}]}}).state("dashboard.material",{url:"/material",controller:"materialCtrl",templateUrl:"scripts/modules/material/template-0b560a768c.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/material/index-db424ec9f4.js"]})}]}}).state("dashboard.program",{url:"/program",controller:"programCtrl",templateUrl:"scripts/modules/program/template-c0f9ecd207.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/program/index-122cbaffb6.js"]})}]}}).state("dashboard.group",{url:"/group",controller:"groupCtrl",templateUrl:"scripts/modules/group/template-29eb4f0acc.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["css/group/style-856c714581.css","scripts/modules/group/index-fa6b73df4d.js"]})}]}}).state("dashboard.schedule",{url:"/schedule",controller:"scheduleCtrl",templateUrl:"scripts/modules/schedule/template-30ce714bf3.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/schedule/index-48b724c5f9.js"]})}]}}).state("dashboard.scheduleCreate",{url:"/scheduleCreate/{id}/{type}",controller:"scheduleCreateCtrl",templateUrl:"scripts/modules/scheduleCreate/template-09ff7f7505.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["css/scheduleCreate/style-7acd0c95b5.css","scripts/modules/scheduleCreate/index-043ae85219.js"]})}]}}).state("dashboard.role",{url:"/role",controller:"roleCtrl",templateUrl:"scripts/modules/role/template-21e8278dd4.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/role/index-dddc131b3f.js"]})}]}}).state("dashboard.user",{url:"/user",controller:"userCtrl",templateUrl:"scripts/modules/user/template-e160bc8bc8.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/user/index-b9c115ff2c.js"]})}]}}).state("dashboard.auser",{url:"/auser",controller:"auserCtrl",templateUrl:"scripts/modules/auser/template-cc17007d8b.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/auser/index-0fb875f230.js"]})}]}}).state("dashboard.materialCheck",{url:"/materialCheck",controller:"materialCheckCtrl",templateUrl:"scripts/modules/materialCheck/template-da1e851a03.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/materialCheck/index-ee00fd91b7.js"]})}]}}).state("dashboard.programCheck",{url:"/programCheck",controller:"programCheckCtrl",templateUrl:"scripts/modules/programCheck/template-206639ef3e.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/programCheck/index-fafc91f326.js"]})}]}}).state("dashboard.scheduleCheck",{url:"/scheduleCheck",controller:"scheduleCheckCtrl",templateUrl:"scripts/modules/scheduleCheck/template-4c7bc00b52.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/scheduleCheck/index-9833215c46.js"]})}]}}).state("dashboard.terminalCommand",{url:"/terminalCommand",controller:"terminalCommandCtrl",templateUrl:"scripts/modules/terminalCommand/template-ca12538f98.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/terminalCommand/index-5ea55fdc27.js"]})}]}}).state("dashboard.programCommand",{url:"/programCommand",controller:"programCommandCtrl",templateUrl:"scripts/modules/programCommand/template-b98e88256b.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/programCommand/index-b8e4d9ec6b.js"]})}]}}).state("dashboard.led",{url:"/led",controller:"ledCtrl",templateUrl:"scripts/modules/led/template-f7255af967.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/led/index-4563e4568b.js"]})}]}}).state("dashboard.ledgram",{url:"/ledgram",controller:"ledgramCtrl",templateUrl:"scripts/modules/ledgram/template-5abc4329cb.html",resolve:{loadMyFiles:["$ocLazyLoad",function(e){return e.load({name:"sbAdminApp",files:["scripts/modules/ledgram/index-c7571e2d17.js"]})}]}}).state("dashboard.programAdd",{url:"/programAdd/{gid}",templateUrl:"TBXEditor/program/program_add.html",controller:"programAddController"}).state("dashboard.programEdit",{url:"/programEdit/{id}",templateUrl:"TBXEditor/program/program_edit.html",controller:"programEditController"}).state("dashboard.programCopy",{url:"/programCopy/{id}",templateUrl:"TBXEditor/program/program_copy.html",controller:"programCopyController"})}])}(window,window.angular),angular.module("sbAdminApp").directive("headerBar",["$location","baseService","userService","$state",function(e,t,a,r){return{templateUrl:"scripts/directives/headerBar/template.html"+t.verson,restrict:"E",replace:!0,terminal:!1,controller:["$scope","$rootScope","$state",function(r,n,o){function i(){switch("dashboard.programAdd"==r.currentState||"dashboard.programCopy"==r.currentState||"dashboard.programEdit"==r.currentState?$(".navbar-static-side").addClass("txeit"):$(".navbar-static-side").removeClass("txeit"),r.currentState){case"dashboard.home":r.collapseVar=0;break;case"dashboard.terminal":r.collapseVar=2;break;case"dashboard.material":r.collapseVar=41;break;case"dashboard.program":r.collapseVar=43;break;case"dashboard.materialCheck":case"dashboard.programCheck":case"dashboard.scheduleCheck":r.collapseVar="5";break;case"dashboard.group":case"dashboard.user":case"dashboard.role":case"dashboard.auser":r.collapseVar=3;break;case"dashboard.terminalCommand":case"dashboard.programCommand":r.collapseVar=6;break;case"dashboard.led":case"dashboard.ledgram":r.collapseVar=7}}r.collapseVar=0;r.currentState=o.current.name,i(),r.colorArr=["#00a0e9","#ffb039","#ff4040"],t.getJson(t.api.auth+"getUserMessage",{},function(e){n.userMessage=[],n.materialCheckCounts=e.materialCheckCounts,n.programCheckCounts=e.programCheckCounts,n.programScheduleCheckCounts=e.programScheduleCheckCounts,e.materialCheckCounts&&0!=e.materialCheckCounts&&n.userMessage.push({name:"materialCheck",value:e.materialCheckCounts}),e.programCheckCounts&&0!=e.programCheckCounts&&n.userMessage.push({name:"programCheck",value:e.programCheckCounts}),e.programScheduleCheckCounts&&0!=e.programScheduleCheckCounts&&n.userMessage.push({name:"scheduleCheck",value:e.programScheduleCheckCounts}),n.domainMessage=e.domainMessage}),r.updatePwd=function(){t.confirmDialog(540,"修改密码",{},"tpl/update_password.html",function(e,r){if(r.modalForm.$valid&&r.data.newPassword==r.data.reNewPassword){var n={password:t.md5_pwd(r.data.password),newPassword:t.md5_pwd(r.data.newPassword),reNewPassword:t.md5_pwd(r.data.reNewPassword)};r.isPosting=!0,a.updatePwd(n,function(){e.close(),t.alert("修改成功","success")})}else r.isShowMessage=!0})},r.logout=function(){t.confirm("退出","是否退出登录？",function(e){t.goToUrl("/login")})},r.progressBar={width:n.userData.root_oss_percent+"%"},r.check=function(e,t){e==r.collapseVar?r.collapseVar=0:r.collapseVar=e},r.$on("$stateChangeSuccess",function(){r.currentState=o.current.name,i()}),r.checkRoute=function(a,n){r.collapseVar=a,"dashboard.programAdd"!=r.currentState&&"dashboard.programCopy"!=r.currentState&&"dashboard.programEdit"!=r.currentState||(n.preventDefault(),t.confirm("提示","当前节目未保存，是否离开当前页面？",function(t){t.close(),e.path(n.currentTarget.href.split("#")[1])}))},r.goToDetail=function(e){t.goToUrl("/dashboard/"+e.name),r.collapseVar=5}}]}}]),angular.module("sbAdminApp").directive("zTree",["$http","$window",function(e,t){function a(e,t,a){a.$observe("ztreesetting",function(){function r(a,r){function n(e,t,a){0==a?(e.siblings("#downBtn_"+t).show(),e.siblings("#upBtn_"+t).hide()):a==d-1?(e.siblings("#upBtn_"+t).show(),e.siblings("#downBtn_"+t).hide()):(e.siblings("#upBtn_"+t).show(),e.siblings("#downBtn_"+t).show())}$.fn.zTree.getZTreeObj($(t).eq(0).attr("id"));if(s.isSort){var o=r.getParentNode(),i=$("#"+r.tId+"_span"),l="",c=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id")).getNodeIndex(r),d="";o&&null!=o.children&&(d=o.children.length)>1&&(l+="<span class='iconfont icon-paixu-shang ztreeBtn' id='upBtn_"+r.tId+"' onfocus='this.blur();'></span>",l+="<span class='iconfont icon-paixu-xiajiang ztreeBtn' id='downBtn_"+r.tId+"' onfocus='this.blur();'></span>"),i.after(l),n(i,r.tId,c);var u=$("#upBtn_"+r.tId),m=$("#downBtn_"+r.tId);u&&u.bind("click",function(e){var a=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id")),o=r.getPreNode(),s=a.getNodeIndex(r);a.moveNode(o,r,"prev");var l=a.getNodeIndex(r);r.sort=l,o.sort=l+1,n(i,r.tId,l),n($("#"+o.tId+"_span"),o.tId,s)}),m&&m.bind("click",function(a){e.change=!0;var o=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id")),s=r.getNextNode(),l=o.getNodeIndex(r);o.moveNode(r,s,"prev");var c=o.getNodeIndex(r);r.sort=c,s.sort=c-1,n(i,r.tId,c),n($("#"+s.tId+"_span"),s.tId,l)})}else if(0==r.id&&s.isSet){var i=$("#"+r.tId+"_span"),l="";l+="<span id='addBtn_level0' style='margin-left: 80px;color:#000;font-size:12px;' title='add node' onfocus='this.blur();'><i class='iconfont icon-tianjia-' style='vertical-align:-1px;'></i>(点击添加组织机构)</span>",i.after(l);var p=$("#addBtn_level0");p&&p.bind("click",function(){var a=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id"));e.$emit("addNode",a,r)})}}function n(a,r){if(0!=r.id){var n=$("#"+r.tId+"_span");if(!(r.editNameFlag||$("#addBtn_"+r.tId).length>0)){var o="<span class='iconfont icon-tianjia- ztreeBtn' id='addBtn_"+r.tId+"' title='add node' onfocus='this.blur();'></span>";o+="<span class='iconfont icon-bianji ztreeBtn' id='editBtn_"+r.tId+"' title='add node' onfocus='this.blur();'></span>",o+="<span class='iconfont icon-shanchu ztreeBtn' id='delBtn_"+r.tId+"' title='add node' onfocus='this.blur();'></span>",n.after(o);var i=$("#addBtn_"+r.tId),s=$("#editBtn_"+r.tId),l=$("#delBtn_"+r.tId);i&&i.bind("click",function(){var a=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id"));e.$emit("addNode",a,r)}),s&&s.bind("click",function(){var e=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id"));r.name;e.editName(r)}),l&&l.bind("click",function(){var a=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id"));e.$emit("delNode",a,r)})}}}function o(a,r,n){var o=$.fn.zTree.getZTreeObj($(t).eq(0).attr("id"));e.$emit("editNode",o,n)}function i(e,t){$("#addBtn_"+t.tId).unbind().remove(),$("#editBtn_"+t.tId).unbind().remove(),$("#delBtn_"+t.tId).unbind().remove()}var s=e.$eval(a.ztreesetting);if(angular.isObject(s)){var l={view:{showIcon:!1,addHoverDom:!!s.isSet&&n,removeHoverDom:!!s.isSet&&i,addDiyDom:r},data:{simpleData:{enable:!0}},check:{enable:s.isCheck,chkboxType:{Y:"ps",N:"ps"}},callback:{onClick:function(t,a,r,n){$(t.target).parent().prev(".chk").click(),e.$emit("leafClick",r,t)},onRename:o}};if(s.selectedNodes&&s.selectedNodes.length>0&&s.isCheck)for(var c=0;c<s.zNodes.length;c++)-1!=s.selectedNodes.indexOf(s.zNodes[c].id)&&(s.zNodes[c].checked=!0);$.fn.zTree.init(t,l,s.zNodes);$.fn.zTree.getZTreeObj($(t).eq(0).attr("id")).expandAll(!0)}},!0)}return{restrict:"AE",link:a}}]),angular.module("sbAdminApp").directive("groupLeafSelect",["$rootScope","baseService",function(e,t){function a(a,r,n){a.root_organizations=e.userData.root_organizations,a.currentGroup=e.rootGroup,a.currentLeaf={},a.currentLeaf.id="",a.groupLeafes=[],a.treeId="group_tree_"+Date.parse(new Date),a.showLeaf=!1,a.showGroup=!1,a.showLeafes=!1,a.getLeafes=function(e){n.reqleafurl&&(a.showLeaf=!0,t.getJson(t.api.apiUrl+n.reqleafurl,{oid:e},function(e){a.groupLeafes=e}))},a.getLeafes(a.currentGroup.id),a.ztreeSetting={zNodes:function(){var e=[];if(n.initid)for(var t=0;t<a.root_organizations.length;t++)e.push({id:a.root_organizations[t].id,pId:a.root_organizations[t].pid,name:a.root_organizations[t].name,sort:a.root_organizations[t].sort}),a.root_organizations[t].id==n.initid&&(a.currentGroup=a.root_organizations[t]);else for(var t=0;t<a.root_organizations.length;t++)e.push({id:a.root_organizations[t].id,pId:a.root_organizations[t].pid,name:a.root_organizations[t].name,sort:a.root_organizations[t].sort});return e}(),isSort:!1,isSet:!1,isCheck:!1,selectedNodes:[]},a.$emit("emitGroupLeaf",a.currentGroup,a.currentLeaf),a.showMenu=function(e){e.stopPropagation();var t=$(e.currentTarget).children(".diy_select_list");a.showGroup=!a.showGroup,a.showLeafes=!1,t.bind("click",function(e){e.stopPropagation()}),a.showGroup&&$(document).bind("click",function(){a.showLeafes=!1,a.showGroup=!1,a.$apply()})},a.$on("leafClick",function(e,t,r){a.showLeafes=!1,a.showGroup=!1,a.currentGroup.id!=t.id&&(a.currentGroup=t,a.currentLeaf={},a.currentLeaf.id="",a.$emit("emitGroupLeaf",a.currentGroup,a.currentLeaf),a.getLeafes(a.currentGroup.id),a.$apply())}),a.leafClick=function(e,t){e.stopPropagation(),a.showLeafes=!1,a.showGroup=!1,t.id!=a.currentLeaf.id&&(a.currentLeaf=t,a.$emit("emitGroupLeaf",a.currentGroup,a.currentLeaf))},a.showLeafMenu=function(e){e.stopPropagation(),a.showGroup=!1,a.showLeafes=!a.showLeafes}}return{templateUrl:"scripts/directives/groupSelect/groupLeafSelect.html"+t.verson,restrict:"AE",replace:!0,link:a}}]),angular.module("sbAdminApp").directive("ngThumb",["$window",function(e){var t={support:!(!e.FileReader||!e.CanvasRenderingContext2D),isFile:function(t){return angular.isObject(t)&&t instanceof e.File},isImage:function(e){return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf("|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|")}};return{restrict:"A",template:"<canvas/>",link:function(e,a,r){function n(e){var t=new Image;t.onload=o,t.src=e.target.result}function o(){var e=i.width||this.width/this.height*i.height,t=i.height||this.height/this.width*i.width;s.attr({width:e,height:t}),s[0].getContext("2d").drawImage(this,0,0,e,t)}if(t.support){var i=e.$eval(r.ngThumb);if(t.isFile(i.file)&&t.isImage(i.file)){var s=a.find("canvas"),l=new FileReader;l.onload=n,l.readAsDataURL(i.file)}}}}}]),angular.module("sbAdminApp").directive("dmbdUpload",["$rootScope","FileUploader","baseService",function(e,t,a){function r(e,a,r){e.isShow=!1,e.isHide=!1;var n=e.uploader=new t({url:"http://dmbd4.oss-cn-hangzhou.aliyuncs.com"});e.isShowDialog=function(t){e.isShow=t},e.isHideDialog=function(){e.isHide=!e.isHide},e.$on("callUploader",function(t,a){e.uploader.queue=e.uploader.queue.concat(a.queue),e.isShow=!0,e.uploadAll()}),e.removeItem=function(t,a,r){t.cancel(),e.uploader.queue.splice(a,1),$(r.currentTarget).parents("tr").remove()},n.onCompleteItem=function(e,t,a,r){1!=t.code&&(e.isSuccess=!1,e.isError=!0,e.errorMsg=t.message)},n.onCompleteAll=function(){e.isShow=!1,$.apply()},e.upload=function(e){e.upload()},e.uploadAll=function(){n.uploadAll()}}return{templateUrl:"scripts/directives/upload/upload.html"+a.verson,restrict:"E",replace:!0,link:r}}]),angular.module("sbAdminApp").directive("imageView",["$rootScope","baseService",function(e,t){function a(e,t,a){function r(){var e,t=document.documentElement,a=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;if(void 0!==a&&a)return void a.call(t);void 0!==window.ActiveXObject&&(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")}function n(){var e,t=document,a=t.cancelFullScreen||t.webkitCancelFullScreen||t.mozCancelFullScreen||t.exitFullScreen;if(void 0!==a&&a)return void a.call(t);void 0!==window.ActiveXObject&&null!=(e=new ActiveXObject("WScript.Shell"))&&e.SendKeys("{F11}")}function o(){document.addEventListener("fullscreenchange",function(){document.fullscreen||(e.imgPreview=!1,e.$apply())},!1),document.addEventListener("mozfullscreenchange",function(){document.mozFullScreen||(e.imgPreview=!1,e.$apply())},!1),document.addEventListener("webkitfullscreenchange",function(){document.webkitIsFullScreen||(e.imgPreview=!1,e.$apply())},!1),document.addEventListener("msfullscreenchange",function(){document.msFullscreenElement||(e.imgPreview=!1,e.$apply())},!1)}e.$on("callImg",function(t,a,n){if(e.data=a,e.data.imgType=n,1==n)if(a.width>a.height){var i=window.screen.width;a.width>i?e.imgStyle={width:"100%",height:"auto",maxHeight:"100%",verticalAlign:"middle"}:e.imgStyle={width:a.width,height:a.height}}else{var s=window.screen.height;a.height>s?e.imgStyle={width:"auto",height:s,verticalAlign:"middle"}:e.imgStyle={width:"auto",height:"100%",verticalAlign:"middle"}}else{var s=window.screen.height;e.size=s}e.imgPreview=!0,r(),o()}),e.close=function(){n(),e.imgPreview=!1}}return{templateUrl:"scripts/directives/imageView/imageview.html"+t.verson,restrict:"AE",replace:!0,link:a}}]),angular.module("sbAdminApp").directive("eChart",["$http","$window",function(e,t){function a(e,a,r){var n=echarts.init(a[0]);e.$watch(r.eoption,function(){var a=e.$eval(r.eoption);angular.isObject(a)&&(n.setOption(a),t.addEventListener("resize",function(){n.resize()}),n.resize())},!0),e.getDom=function(){return{height:a[0].style.height,width:a[0].offsetWidth}},e.$watch(e.getDom,function(){n.resize()},!0)}return{restrict:"AE",replace:!0,scope:{eoption:"=",height:"@",width:"@"},link:a}}]),angular.module("sbAdminApp").directive("eInstructions",["$rootScope","baseService",function(e,t){function a(e,t,a){a.$observe("instructions",function(){a.instructions},!0)}return{templateUrl:"scripts/directives/eInstructions/template.html"+t.verson,restrict:"AE",replace:!0,link:a}}]);var baseService=angular.module("baseService",[]);baseService.factory("baseService",["$rootScope","$http","$location","ngDialog","programService",function(e,t,a,r,n){var o="?_v2.1188",i={verson:o,api:{apiUrl:"",auth:"/api/auth/",group:"/api/group/",led:"/api/led/",ledPage:"/api/ledPage/",material:"/api/material/",program:"/api/program/",terminal:"/api/terminal/",program:"/api/program/",programCmd:"/api/programCmd/",terminalCmd:"/api/terminalCmd/",role:"/api/role/",user:"/api/user/",organization:"/api/organization/",terminalReport:"/api/terminalReport/",installUser:"/api/installUser/",schedule:"/api/schedule/",programSchedule:"/api/programSchedule/"},md5_pwd:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],a=hex_md5(e+"dmbd!@#$%^&*"),r="",n=0;n<a.length;n++)for(var o=0;o<t.length;o++)t[o]==a.charAt(n)&&(o+=1,r+=t[o==t.length?0:o]);return r},confirm:function(e,t,a){r.openConfirm({template:"tpl/confirm.html"+o,cache:!1,className:"ngdialog-theme-default",controller:["$scope",function(n){n.info=t,n.title=e,n.modalConfirmSubmit=function(){a(r,n)},n.cancel=function(){n.closeThisDialog()}}],width:540})},confirmDialog:function(e,t,a,n,i,s){this.beforeOpen=s||0,r.openConfirm({template:n+o,cache:!1,className:"ngdialog-theme-default",controller:["$scope",function(e){e.data=a,e.title=t,s&&s(e),e.modalConfirmSubmit=function(t){t?i(t,r,e):i(r,e)},e.cancel=function(){e.closeThisDialog()}}],width:e})},alert:function(e,t,a,n){r.open({template:"tpl/alert.html"+o,closeByEscape:!1,appendClassName:"no-overlay",controller:["$scope",function(o){o.type=t,o.info=e,a?setTimeout(function(){o.closeThisDialog(),n&&n()},1e3):setTimeout(function(){r.close()},1e3)}]})},confirmAlert:function(e,t,a,n,i,s,l){r.openConfirm({template:"tpl/confirmalert.html"+o,cache:!1,className:"ngdialog-theme-default",controller:["$scope",function(r){r.info=t,r.title=e,r.type=a,r.sInfo=n,r.tInfo=i,r.link=l,r.modalConfirmSubmit=function(){r.closeThisDialog(),s&&s()},r.cancel=function(){r.closeThisDialog()}}],width:540})},getJson:function(e,a,r){var n=this;t.post(e,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}}).then(function(e){var t=e.data;if(1!=t.code)return 2==t.code?(n.goToUrl("/login"),!1):(n.alert(t.message,"warning"),!1);r(t.content)},function(e){n.alert("网络或服务端异常","warning")})},getData:function(e,a,r){var n=this;t.get(e,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}}).then(function(e){var t=e.data;if(1!=t.code)return 2==t.code?(n.goToUrl("/login"),!1):(n.alert(t.message,"warning"),!1);r(t.content)},function(e){n.alert("网络或服务端异常","warning")})},postData:function(e,a,r,n,o){var i=this;t.post(e,a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}}).then(function(e){var t=e.data;if(1!=t.code)return 2==t.code?(i.goToUrl("/login"),!1):(n?n(t.message):i.alert(t.message,"warning"),!1);r(t.content)},function(e){i.alert("网络或服务端异常","warning")})},removeAry:function(e,t){for(var a=[],r=0;r<e.length;r++)e[r]!=t&&a.push(e[r]);return a},removeAryId:function(e,t){for(var a=[],r=0;r<e.length;r++)e[r].id!=t&&a.push(e[r]);return a},goToUrl:function(e){a.path(e)},initTable:function(t,a,r,n){t.isLoading=!0,t.tableState=a;var o=a.pagination,i=o.start||0,s=t.sp.length;t.sp.start=i,this.getJson(r,t.sp,function(r){t.displayed=r.data,s=s||e.paginationNumber[0],a.pagination.number=s,a.pagination.totalItemCount=r.recordsTotal,a.pagination.numberOfPages=Math.ceil(r.recordsTotal/s),t.isLoading=!1,n&&n(r)})},checkAll:function(e,t){if(t.ids=[],$(e.currentTarget).is(":checked"))for(var a=0;a<t.displayed.length;a++)t.ids.push(t.displayed[a].id);else t.ids=[]},checkThis:function(e,t,a){$(t.currentTarget).is(":checked")?a.ids.push(e.id):a.ids=this.removeAry(a.ids,e.id)},formateDay:function(e){return e<10?"0"+e.toString():e.toString()},formateDayTime:function(e,t){return"date"==t?e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8):Date.parse(e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8))},formateDayTxt:function(e){return e.substring(0,4)+"年"+e.substring(4,6)+"月"+e.substring(6,8)+"日"},getFirstorLastDay:function(e,t){var a=new Date(e),r=a.getFullYear(),n=a.getMonth(),o=new Date(r,n-1,"01");o.setDate(1),o.setMonth(o.getMonth()+1);var i=new Date(r,n-1,"01");i.setDate(1),i.setMonth(i.getMonth()+2);var s=new Date(i.getTime()-864e5);return t?o:s},dmbdOSSImageUrlResizeFilter:function(e,t){return e+(e.indexOf("?")>=0?"&":"?")+"x-oss-process=image/resize,m_lfit,"+t+",w_"+t},showProgram:function(t,a,r){var o=this;n.getProgramById(t.pid,function(n){n.status=t.pStatus?t.pStatus:t.status,n.detailType=a,o.confirmDialog(750,"节目预览",n,"tpl/program_details.html",function(e,t,a){r&&r(e)},function(t){t.program=n,t.programPreview=function(t){e.$broadcast("callImg",t,2)}})})},showSchedule:function(e,t,a,r){var n=this;this.postData(this.api.programSchedule+"getProgramScheduleById",{id:e.id},function(e){e.detailType=t,n.confirmDialog(750,"排期详情",e,"tpl/schedule_details.html",function(e,t,a){r&&r(e)},function(t){t.playList=[];for(var r=0;r<e.programs.length;r++){var o={id:e.programs[r].id,name:e.programs[r].name,size:e.programs[r].size,materials:e.programs[r].materials,duration:e.programs[r].duration,content:e.programs[r].content,startDate:e.programs[r].startDate.toString(),endDate:e.programs[r].endDate.toString(),stype:e.programs[r].stype};1==e.programs[r].stype&&(o.startTime=e.programs[r].startTime,o.endTime=e.programs[r].endTime,o.plays=e.programs[r].plays),t.playList.push(o);var i=12;t.playList.length>i&&(i=t.playList.length),t.chartStyle={height:30*i+30+"px",width:"719px"}}t.showProgram=function(e){e.pid=e.id,e.pStatus=1,n.showProgram(e)},t.eoption=a.initChartSchedule(t.playList,i)})})},showMaterial:function(t,a,r){t.detailType=a,t.nUrl=i.dmbdOSSImageUrlResizeFilter(t.path,400),this.confirmDialog(750,"素材详情",t,"tpl/material_detail.html",function(e,t,a){r&&r(e)},function(t){t.imgPreview=function(t){e.$broadcast("callImg",t,1)}})}};return i}]);var userService=angular.module("userService",[]);userService.factory("userService",["baseService",function(e){return{getUserSrc:function(t){e.getJson(e.api.auth+"getUserSrc",{},function(e){t(e)})},login:function(t,a){e.postData(e.api.auth+"login",t,function(e){a(e)})},updatePwd:function(t,a){e.postData(e.api.auth+"updatePwd",t,function(e){a(e)})},logout:function(){e.postData(e.api.auth+"logout",{},function(e){cb(e)})}}}]);var leafService=angular.module("leafService",[]);leafService.factory("leafService",["baseService",function(e){return{getLeafes:function(t,a,r){e.getJson(t,{oid:a},function(e){r(e)})},addGroup:function(t,a,r){e.confirmDialog(540,"添加分组",{},"tpl/group_add.html",function(n,o){o.modalForm.$valid?(o.isPosting=!0,e.postData(t,{oid:a,name:o.name},function(){n.close(),r()},function(t){o.isPosting=!1,e.alert(t,"warning",!0)})):o.isShowMessage=!0})},setGroup:function(t,a,r){e.confirmDialog(540,"设置所属机构",{},"tpl/set_organization.html",function(n,o){o.isPosting=!0,e.postData(t,{oid:o.oid,ids:a},function(){n.close(),r()})},function(e){e.$on("emitGroupLeaf",function(t,a,r){e.oid=a.id})})},setLeaf:function(t,a,r,n,o){var i={leafes:n,isSet:!0};n.length?e.confirmDialog(450,"设置分组",i,"tpl/set_leafes.html",function(n,i){var s="";if($("input[name='ckLeafes']").each(function(){this.checked&&(s+=","+$(this).attr("value"))}),!s)return void e.alert("请选择分组","warning",!0);i.isPosting=!0,e.postData(t,{set:1,oid:a,gids:s,rids:r},function(){n.close(),o()})}):e.alert("请先添加分组","warning")},cancelLeaf:function(t,a,r,n){var o={isSet:!1,currentLeaf:r};e.confirmDialog(450,"取消分组",o,"tpl/set_leafes.html",function(o,i){var s="";1==$("input[name='cancelLeafes']:checked").val()&&(s=r.id),i.isPosting=!0,e.postData(t,{set:0,gids:s,rids:a},function(){o.close(),n()})})},delLeaf:function(t,a,r){e.confirm("删除分组","确定删除分组："+a.name+"?",function(n){e.postData(t,{id:a.id},function(){n.close(),r()},function(t){n.close(),e.confirmAlert("提示",t,"warning")},!0)})},editLeaf:function(t,a,r,n){e.postData(t,a,function(){r()},function(t){e.alert(t,"warning",!0,n)})}}}]),angular.module("me-lazyload",[]).directive("lazySrc",["$window","$document",function(e,t){function a(e){var t=e.data("__uid");return t||e.data("__uid",t=""+ ++d),t}function r(){var e;return{offsetX:"number"==typeof l.pageXOffset?l.pageXOffset:(((e=i.documentElement)||(e=s.parentNode))&&"number"==typeof e.scrollLeft?e:s).scrollLeft,offsetY:"number"==typeof l.pageYOffset?l.pageYOffset:(((e=i.documentElement)||(e=s.parentNode))&&"number"==typeof e.scrollTop?e:s).scrollTop}}function n(e){var t,a,n=e[0],o=n.getBoundingClientRect(),s=r(),c=s.offsetX,d=s.offsetY,u=o.width||n.width,m=o.height||n.height,p=o.left+c,f=o.top+d,g=Math.max(i.documentElement.clientWidth,l.innerWidth||0),h=Math.max(i.documentElement.clientHeight,l.innerHeight||0);return f<=d?f+m>=d&&(a=!0):f>=d&&f<=d+h&&(a=!0),p<=c?p+u>=c&&(t=!0):p>=c&&p<=c+g&&(t=!0),t&&a}function o(){angular.forEach(u,function(e,t){var a=e.iElement,r=e.$scope;n(a)&&a.attr("src",r.lazySrc)})}var i=t[0],s=i.body,l=e,c=angular.element(l),d=0,u={};return c.bind("scroll",o),c.bind("resize",o),{restrict:"A",scope:{lazySrc:"@",animateVisible:"@",animateSpeed:"@"},link:function(e,t){t.bind("load",function(){var r=angular.element(this),n=a(r);r.css("opacity",1),t.attr("src",e.lazySrc),u.hasOwnProperty(n)&&delete u[n]}),e.$watch("lazySrc",function(){var r="0.3s";if(null!=e.animateSpeed&&(r=e.animateSpeed),n(t))e.animateVisible&&t.css({opacity:0,"-webkit-transition":"opacity "+r,transition:"opacity "+r});else{var o=a(t);t.css({opacity:0,"-webkit-transition":"opacity "+r,transition:"opacity "+r}),u[o]={iElement:t,$scope:e}}}),e.$on("$destroy",function(){t.unbind("load");var e=a(t);u.hasOwnProperty(e)&&delete u[e]})}}}])
;var sentencesService=angular.module("sentencesService",[]),sentence=["口交","淫威","脚交","辛灝年","阴b","玉蒲团","tamoxifen","strychnine","zhayao","大麻","爱他死","淫样","自fen","逢九必乱","李天羽","淫术炼金士","罢考","啦萨","淫教师","阴阜","淫声浪语","铃声","你麻痹","自拍","十7大","h动漫","阉割","肉洞","释欲","张志新","四二六社论","阴部","diamorphine","砲友","亚情","benzodiazepines","疆独","淫兽学园","马勒","肛门","逼奸","支持zd","组织集体","收复台湾","菊花洞","粉穴","巨奶","灭亡中国","阴唇","贱货","发论工","地西泮","情趣用品","别梦成灰","雪山狮子旗","小穴","志洪李","焚烧中国国旗","a片","苏晓康","作爱","屌","日烂","推油","198964","呻吟","汤加丽","静zuo","龟头","dajiyuan","苯丙胺","网特","renquan","关闭所有论坛","新唐人","登陆台湾","学潮","激情","九评","成都军区","小泽一郎","入联","民主","xizang","奶子","heroin","摇头丸","高潮","白痴","玉乳","做人不能太cctv了","维汉","哒赖","上访","体奸","爱液","游行","美国广播公司","色情网站","开苞","维多利亚公园","性爱","陆肆","集体淫","死全家","逢8必灾","别他吗","mayingjiu","民进党","几吧","强奸处女","夜勤病栋","根达亚文明","双规","西独","阎明复","荡妇","济世灵文","青天白日","暴干","全裸","一党执政","erythropoietin","广州军区","西臧","精液","丝诱","党的喉舌","记者无疆界","促红细胞生成素","台毒","藏字石","偷拍","插你","强暴","youxing","adrenaline","sb","进化不完全的生命体","卧艹","寂寞男","法一轮一功","炸弹配方","品香堂","incest","穆斯林","华盛顿邮报","自由门","抵制","父母下岗儿下地","回族","六四","贰拾年","chinesedemocracy","大sb","duli","松岛枫","美逼","调教","罢餐","公开信","安拉","人类灭亡进程表","乱交","色色","淫书","迷药","暴淫","肏死","群交","限量","性感诱惑","屁股","氯噻嗪","x藏","无码","要射了","处男","诱奸","警匪","激流中国","zha药","弹药配方","抵zhi","法轮","肉缝","恐怖份子","金盾工程","干你妈","兴奋剂","性虎","杀b","厕奴","六百度四","高勤荣","王维林","人肉炸弹","台军","两岸关系","淫魔","发情","jie严","推背图","亢议","台完","妈逼","太子党","口淫","雅虎香港","地奈德","台湾国","核蛋","淫色","统一教","淫叫","海洛因","you行","为了忘却的纪念","性虐","正见网","婊子","操黑","淫荡","北京帮","小逼","64惨案","台湾猪","凯他敏","颜色革命","ba课","baodong","学chao","你吗b","宪政","万人骚动","插我","流血冲突","最淫官员","弓单","你他妈","浪逼","熟妇","阴核","androst","扌由插","淫亵","淫浪","刺激","台湾问题","基督教科学箴言报","x民党","裤袜","汪兆钧","藏暴乱","回教","暴乳","性饥渴","工商税务两条狼","真善忍","jiuping","六和谐四","twdl","恐怖分子","前凸后翘","中央日报","天按门","苯巴比妥","色盟","人渣","民一主","低制","肉具","特共","体位","灭共","封面女郎","震死他们","爆草","射爽","淫液","我就色","截访","你办事我放心","自由时报","尼可刹米","干死你","群体事件","七大军区","套弄","下贱","河蟹社会","罢学","强jian","清海无上师","gay片","兰州军区","奸情","官匪","知道64","咪咪","解放军","海luo因","内裤","霸工","无修正","干你娘","赤裸","一本道","乳交","蜜穴","拔出来","中国猪","刹笔","大赦国际","卧槽","招妓","淫电影","口爆","台wan","台独","吾尔开希","三股势力","人兽","兵力部署","夏川纯","中国的陷阱","蒋彦永","汉维","jing坐","2o年","九学","diacetylmorphine","强奸","四事件","宪章","反party","罢教","丁子霖","射颜","雄烯二醇","湾台","巨乳","口射","无界网络","境外媒体","台海战争","伊力哈木","六氟化铀","大乳","寻找林昭的灵魂","吾尔开西","flg","和弦","兽交","九风","特供","第21集团军","麻醉药","插比","沈彤","gfw","台海问题","东突解放组织","婊子养的","插阴","hardcore","精神药品 zangdu","诸世纪","鸡巴","dizhi","淫妇","操你祖宗","少修正","谁是新中国","清华帮","公头","美穴","qingzhen","后穴","色欲","幼女","陆四","陈s扁","美少妇","淫河","北京军区","sm女王","肉逼","喷精","惹火身材","淫虐","性交","台du","陈水扁","司马璐","粉碎四人帮","baoluan","干穴","抓胸","zi杀","叫床","baozha","油行","辛灏年","王炳章","亚洲周刊","插暴","英国金融时报","巨屌","我日你","贪污腐败","诺查丹玛斯","操我","美沙酮","阴精","日你妈","潮喷","静坐","封从德","官逼民反","下体","解决台湾","基地组织","脱内裤","相奸","狗娘养","圣战组织","狗日的","吃精","amateur","骚女","操他妈","新型毒品","回回","戒严","包二奶","拉sa","bloodisonthesquare","操烂","7大军区","蒙古分裂分子","xiao77","真主","快感","刘晓竹","援藏","攻占台湾","一夜欢","cao你","阿芙蓉","淫女","咖啡因","民猪","傻b","寂寞女","ketamine","淫贱","全家死绝","张筱雨","满狗","炮友","裹本","tuidang","历史的伤口","军转","法lun","大纪元","炸药配方","18禁","奈美","胰岛素样生长因子","4风","肉茎","火乍","人拳","保钓组织","鸡吧","左翼联盟","赖达","黑逼","日逼","爽片","麻古","密穴","地塞米松","裸露","上海帮","济南军区","西藏","我干","稀藏","男奴","摸胸","藏du","按照马雅历法","好嫩","5毛党","西脏","狗操","藏毒","啦沙","草你吗","草你妈","反分裂","五毛党","敏主","揉乳","嫩女","藏人","di制","性息","菊穴","高智晟","满洲第三帝国","公检法是流氓","上中央","促性腺激素","dalai","morphine","引起暴动","捏弄","酥痒","甲基安非他明","轮功","一党专制","沙比","侯德健","屄","坦克压大学生","罢工","罢运","陈一咨","列确","骚穴","淫虫","淫水","色b","min主","北京风波","做爱","去中央","世界日报","轮子功","石肖","胡平","沈阳军区","劣等民族","中国教徒","情色","我操","骚逼","超越红墙","骚水","王丹","性伴侣","流淫","李愚蠢","血书","妓女","穴口","藏西","精子","64时期","逢八必灾","jieyan","人木又","联名上书","放尿","迷奸","车仑工力","藏m","抽插","北高联","欲火","g点","光复民国","大力抽送","拳交","打砸抢","乖乖粉","罢ke","zf大楼","凌辱","写真","多人轮","嫩逼","肉欲","昝爱宗","高自联","浪妇","欲仙欲死","cannabis","操逼","罢吃","秘唇","熟女","觉醒的中国公民日渐清楚地认识到","熟母","64运动","la萨","xing伴侣","他们嫌我挡了城市的道路","不穿","藏独","taiwan","欠干","偷欢","网络封锁","zha弹","剖腹一刀五千几","规模冲突","维吾","安非他命","苏贞昌","抗议","纽约时报","清真","cocain","淫糜","蒋公纪念歌","伪火","淫媚","台湾独立","当局严密封锁","干死","杀毙","六河蟹四","三级片","韩国狗","色逼","统一台湾","轮法功","谭作人","霸课","底制","小xue","支持台湾","食精","三唑仑","色区","校鸡","专制政权","虎骑","乳头","荡女","抿主","推bei图","按摩棒","招鸡","xuechao","narcotic","南街村","g片","擦你妈","文做","万润南","中国的人权","anal","男公关","secom","十七大","藏民","星岛日报","色猫","高丽棒子","游xing","美腿","东突厥斯坦解放组织","17da","逢9必乱","宪法法院","柴玲","集体自杀","强制拆除","聊性","贱人","信访","戒yan","中石化说亏损","启蒙派","大波","操你妈","警察我们是为人民服务的","鸡奸","无界浏览","一党专政","浪女","爆你菊","金鳞岂是池中物","乱伦","肏你","裸陪","杜冷丁","真他妈","清zhen","火辣","按摩","热比娅","塔利班","淫娃","操你大爷","发生关系","林文漪","台海统一","操你娘","王超华","台湾共和国","城管暴力执法","一中一台","乳沟","丝袜","刘宾雁","fuck","k粉","军事社","性感妖娆","zang人","一ye情","血洗京城","sexinsex","插b","仓井空","异议人士","朱瑟里诺","毒豺","母奸","陈随便","黄片","观音法门","9学","泼尼松","脱光","方励之","裙中性运动","告全国同胞书","台海危机","轮操","插进","阴户","三去车仑","平反","示威","换妻俱乐部","明慧网","西z","罢饭","蒋捷连","援助交际","8的平方事件","民主女神","mdma","嫩穴","bao炸","炸dan","混蛋","肥逼","买春","兽欲","李洪志","应召","女优","中国人权","狂操","被干","我草","中国新民党","中国时报","讨伐中宣部","8341部队","摸奶","中年美妇","titor","请愿","欲女","无耻","原味内衣","兽奸","权贵集团","官商勾结","集合","当官靠后台","喝血社会","中华局域网","东森电视","阿拉伯","肛交","蜜液","颜射","火药配方","国际特赦","明慧周报","性奴","自sha","内射","国民党","5月35","退dang","铃木麻","爽死我了","莫达非尼","猛男","汉人","08宪","傻逼","豪乳","反共","乳房","穆罕穆德","罢参","狗杂种","三硝基甲苯","台海大战","lasa","四风","白嫩","维权","盘古","吸精","形式主义","胸推","阿扁","暴奸","操你全家","打倒中国","皮箱炸弹","性技巧","淫母","爱国者同盟","一夜情","中日没有不友好的","fenlie","鸦片","hmtd","舔脚","印尼事件","阴道","9风","死逼","吾尔","爆zha","菊门","威胁论","阳具","台海局势","中央社","援交","门安天","你妈的","潮吹","美乳","骚比","色界","腐败中国","少年阿宾","霸餐","民珠","操死","后庭","被操","网络评论员","网评员","a4u","李宏志","a扁","一丝不挂","独夫民贼","两岸战争","拉萨","煞逼","fl功","九ping","玉穴","麻黄草","娘西皮","访民","贰拾周年","fa轮","炸yao","干你","傻比","玉女心经","wikipedia","学生妹","花花公子","阿旺晋美","淫妻","学百度潮","美联社","南京军区","丹增嘉措","taidu","轮奸","台百度湾","葬独","春药","淫照","抽一插","兼职","社会主义灭亡","妈了个逼","强制捐款","万人大签名","维基百科","主权","王千源","贺卫方","闹独立","人妻","麻痹的","媚外","08xz","发浪","舔阴","肉唇","福音会","三个呆婊","a4y","臧人","默罕默德","9评","法x功","回民","五毛们","肉穴","射精","甲睾酮","少妇","人quan","台弯","政治风波","冰毒","日本万岁","投公","美幼","马英九","达赖","xi藏","狼友","西奘","幼交","鞑子","肉棍","亡党亡国","轮暴","舞女","西葬","封锁消息","乳爆","法lg","艹你","金麟岂是池中物","八九年","解放tw","爆乳","阴茎","木仓","焦国标","何清涟","希藏","屁眼","法o功","穆罕默德","boycott","钓鱼岛","99bb","贱b","殃视","罢课","肉棒","shangfang","装b","falungong","国产av","suicide","入耳关","打台湾","氵去车仑","风骚","露b","红色贵族","民运人士","89年春夏之交","自慰","美国之音","全家死光","口活","porn","群体性事件","步qiang","硒藏","魏京生","thegateofheavenlypeace","吗啡","被插","粉嫩","民竹","进攻台湾","盗撮","全家不得好死","狂插","浑圆","漏乳","9ping","sm","da选","选国家主席","公安把秩序搞乱","东森新闻网","双臀","幼男","贱比","木牛流马的污染比汽车飞机大","新闻封锁","zhadan","啦撒","煞笔","读不起选个学校三万起","法0功","臧独","4事件","风月大陆","讨说法","严家其","党章","草你丫","泰晤士报","tokyohot","dl喇嘛","杨思敏","领导干部吃王八","adult","插逼","氯胺酮","解放台湾","出现暴动","大法弟子","印尼屠华","就去日","bbc中文网","淫情","穴图","浪叫","希葬","性欲","h动画","退党","兽性","集会","googleblogger","互联网审查","藏青会","自由亚洲","请命","伊斯兰","罢食","占领台湾","人体炸弹","手淫","发生暴动","特贡","色诱","狗草","20和谐年","尼玛的","尼玛 "];sentencesService.factory("sentencesService",["baseService",function(e){return{checkCon:function(e){for(var t={sentencesArr:[],sentencesCon:e},a=0;a<sentence.length;a++){var r=new RegExp(sentence[a],"ig");r.test(e)&&(t.sentencesArr.push(sentence[a]),t.sentencesCon=e.replace(r,"***"))}return t}}}]);var chartService=angular.module("chartService",[]);chartService.factory("chartService",["baseService",function(e){return{initChartSchedule:function(t,a){var r,n,o={tooltip:{trigger:"item"},grid:{top:"0%",left:"0%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"value",min:"",interval:"",max:"",position:"top",axisLabel:{formatter:function(e,t){if(o.xAxis.interval==i){var a=new Date(e);return["",[a.getMonth()+1,a.getDate()].join("/")].join("\n")}var a=new Date(e),r="";if(1==a.getDate()){var n=a.getMonth()+1+"月";r=["",n].join("\n"),a.getMonth()+1==1&&(r=[a.getFullYear()+"年",n].join("\n"))}return r},fontSize:12,showMinLabel:!0,showMaxLabel:!1,color:"#24243e"},axisLine:{lineStyle:{color:"#e2e3e6"}},axisTick:{show:!1,length:8,lineStyle:{color:"#e2e3e6"}},splitLine:{show:!1,lineStyle:{color:"#e2e3e6"}}},yAxis:{type:"category",inverse:!0,data:[],axisTick:{show:!0,length:100,lineStyle:{color:"#e2e3e6"}},axisLine:{lineStyle:{color:"#e2e3e6"}},splitLine:{show:!0,lineStyle:{color:"#e2e3e6",width:1}},axisLabel:{show:!1,formatter:"啊啊啊啊啊啊啊啊"}},series:[{name:"",type:"bar",stack:"总量",itemStyle:{normal:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"},emphasis:{barBorderColor:"rgba(0,0,0,0)",color:"rgba(0,0,0,0)"}},tooltip:{backgroundColor:"rgba(0,0,0,0);",textStyle:{color:"rgba(0,0,0,0);"}},data:[]},{name:"播放时长",type:"bar",stack:"总量",label:{normal:{show:!1,position:"insideRight"}},barWidth:28,itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#00b0e2"},{offset:.5,color:"#1cbfef"},{offset:1,color:"#3fd3ff"}])}},tooltip:{axisPointer:{type:"shadow"},backgroundColor:"#fff",padding:[10,20,10,5],textStyle:{color:"#000"},formatter:function(t){var a=t.data.playData,r=e.formateDayTxt(a.startDate)+"-"+e.formateDayTxt(a.endDate),n=1==a.stype?a.startTime+"-"+a.endTime:"全天",o='<span style="color:#000;font-size:16px;">'+t.data.name+"</span><br />";return o+='<span style="font-size:13px;">播放日期</span><span style="font-size:12px;color:#9f9f9f;"> '+r+"</span><br />",o+='<span style="font-size:13px;">播放时段</span><span style="font-size:12px;color:#9f9f9f;"> '+n+"</span><br />",1==a.stype&&(o+='<span style="font-size:13px;">播放次数</span><span style="font-size:12px;color:#9f9f9f;"> '+a.plays+"次</span>"),o},extraCssText:"box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);"},data:[]}]},i=432e6,s=a,l={},c=[],d=[],u=[];t.length&&(l.minDate=e.formateDayTime(t[0].startDate),l.maxDate=e.formateDayTime(t[0].endDate)),t.length>s&&(s=t.length);for(var m=0;m<s;m++)c.push({value:""}),d.push({value:"",name:""}),u.push({value:"",name:""});for(var p=0;p<t.length;p++)d[p].value=e.formateDayTime(t[p].startDate),u[p].name=t[p].name,u[p].value=e.formateDayTime(t[p].endDate)-e.formateDayTime(t[p].startDate)+i/5,u[p].playData=t[p],1==t[p].stype&&(u[p].itemStyle={normal:{color:new echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#84fab0"},{offset:1,color:"#8fd3f4"}])}}),e.formateDayTime(t[p].startDate)<l.minDate&&(l.minDate=e.formateDayTime(t[p].startDate)),e.formateDayTime(t[p].endDate)>l.maxDate&&(l.maxDate=e.formateDayTime(t[p].endDate));return n=l.maxDate-l.minDate,n>2592e6?(r=864e5,l.minDate=Date.parse(e.getFirstorLastDay(l.minDate,!0)),l.maxDate=l.minDate+2592e6*(Math.ceil(n/2592e6)+1)):(r=i,l.minDate=l.minDate,l.maxDate=l.maxDate+i),o.xAxis.interval=r,o.yAxis.data=c,o.series[0].data=d,o.series[1].data=u,o.xAxis.min=l.minDate,o.xAxis.max=l.maxDate,o}}}]),function(e,t){function a(e){return e<10?"0"+e:e.toString(10)}e.filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),e.filter("formateTime",["$filter",function(e){return function(t){return e("date")(t,"yyyy-MM-dd HH:mm:ss")}}]),e.filter("formateDate",function(){return function(e){return e?e.toString().substring(0,4)+"-"+e.toString().substring(4,6)+"-"+e.toString().substring(6,8):""}}),e.filter("formateMinate",function(){return function(e){return e?e.substring(0,5):""}}),e.filter("play_url",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}]),e.filter("getOrganizations",["$rootScope",function(e){return function(t){function a(e){if(""==e.pid)return o.reverse().push(n);for(var t=0;t<r.length;t++)if(r[t].id==e.pid){if(o.push(r[t].name),""==r[t].pid)return o.reverse().push(n);a(r[t])}}for(var r=e.userData.root_organizations,n="",o=[],i=0;i<r.length;i++)r[i].id==t&&(n=r[i].name,a(r[i]));return o.join(">")}}]),e.filter("scheduleStatusTxt",function(){var e=[{name:"待提交审核",val:0},{name:"审核通过",val:1},{name:"审核中",val:2},{name:"审核不通过",val:4}];return function(t){for(var a="",r=0;r<e.length;r++)e[r].val==t&&(a=e[r].name);return a}}),e.filter("cmdCodeTxt",function(){var e=[{name:"节目下发",val:21},{name:"节目停播",val:22},{name:"排期下发",val:24},{name:"排期停播",val:25}];return function(t){for(var a="",r=0;r<e.length;r++)e[r].val==t&&(a=e[r].name);return a}}),e.filter("programStatusTxt",function(){var e=[{name:"待提交审核",val:0,color:"grey"},{name:"审核通过",val:1,color:"#5cb85c"},{name:"内部初审中",val:2,color:"blue"},{name:"平台审核中",val:3,color:"blue"},{name:"内部审核不通过",val:4,color:"#d9534f"},{name:"平台审核不通过",val:5,color:"#d9534f"},{name:"内部终审中",val:6,color:"#d9534f"},{name:"内部终审不通过",val:7,color:"grey"}];return function(t){for(var a="",r=0;r<e.length;r++)e[r].val==t&&(a=e[r].name);return a}}),e.filter("materialStatusTxt",function(){var e=[{name:"待提交审核",val:0,color:"grey"},{name:"审核通过",val:1,color:"#5cb85c"},{name:"内部审核中",val:2,color:"blue"},{name:"平台审核中",val:3,color:"blue"},{name:"内部审核不通过",val:4,color:"#d9534f"},{name:"平台审核不通过",val:5,color:"#d9534f"},{name:"转码失败",val:6,color:"#d9534f"},{name:"转码中",val:7,color:"grey"}];return function(t){for(var a="",r=0;r<e.length;r++)e[r].val==t&&(a=e[r].name);return a}}),e.filter("dmbdResourceSizeFilter",function(){return function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1024/1024).toFixed(2)+" MB":e<1099511627776?(e/1024/1024/1024).toFixed(2)+" GB":(e/1024/1024/1024/1024).toFixed(2)+" TB"}}),e.filter("dmbdVideoTimeFormatFilter",function(){return function(e){return a(Math.floor(e/3600))+":"+a(Math.floor(e%3600/60))+":"+a(e%60)}})}(angular.module("sbAdminApp"),angular);