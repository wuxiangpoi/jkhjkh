"use strict";angular.module("sbAdminApp",[]).controller("programPlayReportCtrl",["$scope","$rootScope","baseService",function(t,a,o){t.displayed=[];var e=new Date;t.year=e.getFullYear(),t.month=o.formateDay(e.getMonth()+1),t.sp={month:t.year+""+t.month,oid:a.rootGroup.id,gid:""},t.tableState={};var e=new Date;t.callServer=function(a){o.initTable(t,a,o.api.apiUrl+"/api/programPlayMonthly/getProgramPlayMonthlyPageList")},t.initPage=function(){t.tableState.pagination.start=0,t.callServer(t.tableState)},t.$on("emitGroupLeaf",function(a,o,e){t.sp.oid==o.id&&t.sp.gid==e.id||(t.currentGroup=o,t.sp.oid=o.id,t.sp.gid=e.id,t.initPage())}),t.formDate=function(a,o,e){t.sp.month=a._i.split("-").join(""),t.initPage()},t.showProgram=function(t){t.pid=t.programId,o.showProgram(t)}}]);