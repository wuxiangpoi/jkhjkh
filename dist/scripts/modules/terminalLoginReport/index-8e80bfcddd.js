"use strict";angular.module("sbAdminApp",[]).controller("terminalLoginReportCtrl",["$scope","$rootScope","baseService",function(e,t,i){function o(){var t="";for(var i in e.sp)e.sp[i]&&(t+="&"+i+"="+e.sp[i]);return t&&(t="?"+t.substr(1)),t}e.displayed=[];var r=new Date;e.year=r.getFullYear(),e.month=i.formateDay(r.getMonth()+1),e.sp={year:e.year,month:e.month,oid:t.rootGroup.id,gid:""},e.tableState={},e.callServer=function(t){i.initTable(e,t,i.api.termialRegReport+"getTermialRegPageList")},e.initPage=function(){e.tableState.pagination.start=0,e.callServer(e.tableState)},e.$on("emitGroupLeaf",function(t,i,o){e.sp.oid==i.id&&e.sp.gid==o.id||(e.currentGroup=i,e.sp.oid=i.id,e.sp.gid=o.id,e.initPage())}),e.formDate=function(t,i){e.sp.year=t._i.split("-")[0],e.sp.month=t._i.split("-")[1],e.initPage()},e.exportExcel=function(){i.confirm("导出表格","确定将当前查询的所有的设备信息导出excel表格?",function(e){e.close(),window.open(i.api.termialRegReport+"exportTermialRegList"+o())})}}]);