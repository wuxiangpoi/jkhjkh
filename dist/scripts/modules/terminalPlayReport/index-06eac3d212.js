"use strict";angular.module("sbAdminApp",[]).controller("terminalPlayReportCtrl",["$scope","$rootScope","baseService","$stateParams",function(t,a,i,n){t.displayed=[];var e=new Date;t.year=e.getFullYear(),t.month=i.formateDay(e.getMonth()+1),t.sp={month:t.year+""+t.month,oid:a.rootGroup.id,gid:""},t.tableState={},t.callServer=function(a){n.pos&&(a.pagination.init||(a.pagination={},a.pagination.start=n.pos,a.pagination.init=!0)),i.initTable(t,a,i.api.apiUrl+"/api/termialPlayMonthly/getTerminalPlayMonthlyPageList")},t.initPage=function(){t.tableState.pagination.start=0,t.callServer(t.tableState)},t.$on("emitGroupLeaf",function(a,i,n){t.sp.oid==i.id&&t.sp.gid==n.id||(t.currentGroup=i,t.sp.oid=i.id,t.sp.gid=n.id,t.initPage())}),t.formDate=function(a,i,n){t.sp.month=a._i.split("-").join(""),t.initPage()},t.showProgram=function(t){i.confirmDialog(720,"播放统计",t,"tpl/terminal_play_daily_detail.html",function(t,a){},function(a){a.displayed=[],a.sp={},a.sp.terminalId=t.terminalId,a.sp.month=t.month,a.tableState={},a.ids=[],a.callUrl=i.api.apiUrl+"/api/termialPlayMonthly/getTerminalPlayMonthlyDetailsPageList",a.callServer=function(t){i.initTable(a,t,a.callUrl)},a.initTable=function(){a.callServer(a.tableState)},a.showProgram=function(t){t.pid=t.programId,i.showProgram(t)}})}}]);