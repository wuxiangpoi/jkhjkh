"use strict";angular.module("sbAdminApp").controller("programCheckCtrl",["$scope","$rootScope","baseService",function(t,a,e){t.displayed=[],t.sp={},t.tableState={},t.callServer=function(r){e.initTable(t,r,e.api.program+"getCheckProgramList",function(t){a.programCheckCounts=t.recordsTotal})},t.initPage=function(){t.tableState.pagination.start=0,t.callServer(t.tableState)},t.showProgram=function(a,r){a.pid=a.id,e.showProgram(a,r,function(r){e.confirm("节目审核","确定"+(3==r?"通过":"不通过")+"节目："+a.name+"?",function(o,i){i.isPosting=!0;var c,n;2==a.status?(c=3==r?6:4,n=e.api.program+"check"):(c=3==r?3:7,n=e.api.program+"checkFinal"),e.postData(n,{id:a.id,status:c},function(a){o.close(),e.alert("操作成功","success"),t.callServer(t.tableState)})})})}}]);